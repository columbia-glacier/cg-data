%% Plot June 2008 Columbia Survey Data
DataHome = '/Users/shad/Documents/glaciers/Columbia/motion/optical surveys/2008';
cd(DataHome);


load M111.txt
load M222.txt
load M333.txt
%% Separate variables
%Marker 111

T1 = M111(:,2); %time
E1 = M111(:,3); %Easting (local) [m]
N1 = M111(:,4); %northing
Z1 = M111(:,5); %z

dE1 = diff(E1); %variable differences
dN1 = diff(N1);
dT1 = diff(T1);

n1=length(T1);  %number data
for i=1:n1-1

t_avg1(i)=(T1(i+1)+T1(i))./2;    %average times
 
end
%marker 222
T2 = M222(:,2);
E2 = M222(:,3);
N2 = M222(:,4);
Z2 = M222(:,5);

dE2 = diff(E2);
dN2 = diff(N2);
dT2 = diff(T2);

n2=length(T2);  %number data
for i=1:n2-1

t_avg2(i)=(T2(i+1)+T2(i))./2;    %average times
 
end


%marker 333
T3 = M333(:,2);
E3 = M333(:,3);
N3 = M333(:,4);
Z3 = M333(:,5);



%% Plot trajectories
figure(1)
plot(T1,E1-mean(E1))
hold on
plot(T2,E2-mean(E2),'g')
plot(T3,E3-mean(E3),'r')
legend('E1','E2','E3')

figure(2)
plot(T1,N1-mean(N1))
hold on
plot(T2,N2-mean(N2),'g')
plot(T3,N3-mean(N3),'r')
legend('N1','N2','N3')

figure(3)
plot(T1,Z1-mean(Z1))
hold on
plot(T2,Z2-mean(Z2),'g')
plot(T3,Z3-mean(Z3),'r')
legend('Z1','Z2','Z3')


%% Shad's calc: 




dE3 = diff(E3);
dN3 = diff(N3);
dT3 = diff(T3);



v1 = (sqrt((dE1.^2) + (dN1.^2)))./dT1;
v2 = (sqrt((dE2.^2) + (dN2.^2)))./dT2;
v3 = sqrt((dE3.^2) + (dN3.^2))./dT3;

figure(4);
plot(v1,'b')
hold on
plot(v2,'g')
plot(v3,'r')

